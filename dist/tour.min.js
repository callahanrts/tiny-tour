window.Tour=function(t,e){t.prototype.init=function(t){this.current=0,Object.assign(this,f(),t)},t.prototype.override=function(t,e){var n=this[t];this[t]=e.bind(this,n.bind(this))},t.prototype.start=function(){this.showOverlay(),this.showStep(this.steps[this.current=0])},t.prototype.goToStep=function(t){this.current=t,this.showStep(this.steps[this.current])},t.prototype.nextStep=function(){var t=this.steps[++this.current];t?this.showStep(t):this.end()},t.prototype.prevStep=function(){var t=this.steps[Math.max(--this.current,0)];this.showStep(t)},t.prototype.showStep=function(t){var e=m(t.element,this.container,this.padding);this.tip&&this.overlay.children[0].removeChild(this.tip),this.tip=s.call(this,t,this.tipClasses+" "+t.position||"bottom"),r(this.overlay,e)},t.prototype.showOverlay=function(){this.shadow=this.shadow||n.call(this),this.container.appendChild(this.shadow),this.shadow.onclick=this.end.bind(this)},t.prototype.end=function(){this.container.removeChild(this.shadow),this.shadow=this.overlay=this.tip=null};var n=function(){var t=document.createElement("div");return t.className="ttour-shadow",t.appendChild(this.overlay=i()),t},i=function(){var t=document.createElement("div"),e=document.createElement("div");return t.className="ttour-overlay",e.className="ttour-wrapper",t.appendChild(e),t},r=function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px",t.style.width=e.width+"px",t.style.height=e.height+"px"},o=function(){var t=document.createElement("div");return t.className="ttour-arrow",t},s=function(t,e){var n=document.createElement("div");return n.className="ttour-tip tip-"+this.current+" "+e,n.appendChild(h(t.title)),n.appendChild(a(t.description)),n.appendChild(c.call(this)),n.appendChild(o()),n.style.position="absolute",n.onclick=function(t){t.stopPropagation()},this.overlay.children[0].appendChild(n),n},h=function(t){var e=document.createElement("div");return e.className="ttour-header",e.appendChild(v(t)),e},a=function(t){var e=document.createElement("div");return e.className="ttour-body",e.innerHTML=t,e},c=function(){var t=document.createElement("div");return t.className="ttour-footer",t.appendChild(l(this.steps.length,this.current)),t.appendChild(d.call(this,this.steps.length-1==this.current)),this.current>0&&t.appendChild(u.call(this)),t},l=function(t,e){var n=document.createElement("div");n.className="ttour-bullets";for(var i=0;i<t;i++)n.appendChild(p(i==e));return n},p=function(t){var e=document.createElement("div");return e.className="ttour-bullet "+(t?"active":""),e},d=function(t){var e=document.createElement("button");return e.className="next",e.innerText=t?this.doneText:this.nextText,e.onclick=this.nextStep.bind(this),e},u=function(){var t=document.createElement("button");return t.className="prev",t.innerText=this.prevText,t.onclick=this.prevStep.bind(this),t},v=function(t){var e=document.createElement("h1");return e.innerText=t,e},m=function(t,e,n){var i=e.querySelector(t).getBoundingClientRect();return{left:e.scrollLeft+i.left-n,top:e.scrollTop+i.top-n,width:i.width+2*n,height:i.height+2*n}},f=function(){return{steps:[],padding:3,container:document.body,nextText:"Next",doneText:"Done",prevText:"Prev",tipClasses:""}};return t}(window.tour||function(t){this.init(t||{})});